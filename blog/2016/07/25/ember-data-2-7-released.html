
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="theme-color" content="#e46652">
    <title>Ember.js - Ember Data 2.7 and 2.8 Beta Released</title>
    <meta property="st:title" content="Ember.js: Ember Data 2.7 and 2.8 Beta Released" />
    <meta property="og:title" content="Ember.js: Ember Data 2.7 and 2.8 Beta Released" />
    <meta property="og:description" content="Ember.js helps developers be more productive out of the box. Designed with developer ergonomics in mind, its friendly APIs help you get your job doneâ€”fast." />
    <meta property="og:image" content="http://emberjs.com/images/tomster-sm.png" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@emberjs" />
    <meta name="twitter:title" content="Ember Data 2.7 and 2.8 Beta Released"/>
    <meta name="twitter:image" content="http://emberjs.com/images/tomster-twitter-card.png" />
    <link rel="shortcut icon" href="/images/favicon-b8f150dd.png" />
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600" rel="stylesheet">
    <!--[if lte IE 7 ]><link href="/stylesheets/fonts/fontello-ie7-e008d616.css" rel="stylesheet" /><![endif]-->
    <link href="/stylesheets/site-cfa27167.css" rel="stylesheet" />
    <link href="/blog/feed.xml" rel="alternate" type="application/atom+xml" title="Ember.js - Blog" />
    <link rel="stylesheet" href="https://glimmer-styleguide.global.ssl.fastly.net/glimmer-styleguide/master/app-cf72b59a166beb307683d9d0dae6bb0f.css" />
    
  </head>

  <body class="blog blog_2016 blog_2016_07 blog_2016_07_25 blog_2016_07_25_ember-data-2-7-released not-responsive">

    <!--[if lt IE 9]>
      <script type="text/javascript" src="/javascripts/common-old-ie-748f1d10.js"></script>
    <![endif]-->
    <!--[if gte IE 9]><!-->
      <script type="text/javascript" src="/javascripts/common-modern-174a9d55.js"></script>
    <!--<![endif]-->

    <main-navbar></main-navbar>

    

    <div id="content-wrapper">
        <div id="sidebar">
          <ol id='toc-list'>
  <li class='level-1'>
    <a href="/blog/tags/recent-posts.html">Recent Posts</a>
    <ol style="display:block">
      <li class='level-3'><a href="/blog/2017/04/05/emberconf-2017-state-of-the-union.html">EmberConf 2017: State of the Union</a></li>
      <li class='level-3'><a href="/blog/2017/02/28/2017-ember-community-survey.html">2017 Ember Community Survey</a></li>
      <li class='level-3'><a href="/blog/2016/09/07/ember-node-lts-support.html">Ember Node.js LTS Support</a></li>
      <li class='level-3'><a href="/blog/2016/05/19/introducing-subteams.html">Introducing Subteams</a></li>
      <li class='level-3'><a href="/blog/2016/05/17/global-accessibility-awareness-day.html">Global Accessibility Awareness Day</a></li>
    </ol>
  </li>
  <li class='level-1'>
    <a href="/blog/tags/releases.html">Releases</a>
    <ol style="display:block">
      <li class='level-3'><a href="/blog/2017/04/29/ember-2-13-released.html">Ember 2.13 and 2.14 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2017/03/19/ember-2-12-released.html">Ember 2.12 and 2.13 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2017/01/23/ember-2-11-released.html">Ember 2.11 and 2.12 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2016/11/30/ember-2-10-released.html">Ember 2.10 and 2.11 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2016/10/17/ember-2-9-released.html">Ember.js 2.8-LTS, 2.9 and 2.10 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2016/09/08/ember-2-8-and-2-9-beta-released.html">Ember.js 2.8 and 2.9 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2016/07/29/announcing-the-glimmer-2-alpha.html">Announcing The Glimmer 2 Alpha</a></li>
    </ol>
  </li>
  <li class='level-1'>
    <a href="/blog/tags/ember-data.html">Ember Data</a>
    <ol style="display:block">
      <li class='level-3'><a href="/blog/2016/07/25/ember-data-2-7-released.html">Ember Data 2.7 and 2.8 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2016/06/09/ember-data-2-6-released.html">Ember Data 2.6 and 2.7 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2016/05/03/ember-data-2-5-released.html">Ember Data 2.5 and 2.6 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2016/03/13/ember-data-2-4-released.html">Ember Data 2.4 and 2.5 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2016/01/12/ember-data-2-3-released.html">Ember Data 2.3 and 2.4 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2015/11/17/ember-data-2-2-released.html">Ember Data 2.2 and 2.3 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2015/10/05/ember-data-2-1-released.html">Ember Data 2.1 and 2.2 Beta Released</a></li>
    </ol>
  </li>
</ol>

          <div id="back-to-top"><a id="back-top-top" href="#">&#11014; Back to Top</a></div>
        </div>
      <div id="content" class="has-sidebar">
          <article class="blog-post">
    <h1>Ember Data 2.7 and 2.8 Beta Released</h1>
      <h3 class="blog-post-author">By Brendan McLoughlin</h3>
      <h3 class="blog-post-date"><time>July 25, 2016</time></h3>

    <hr>

    <p>Ember Data 2.7, a minor version release of Ember Data, is
released. This release represents the work of over 27 direct
contributors, and over 103 commits.</p>

<p>Ember Data 2.8 beta.1, the branch of Ember Data that will be released
as stable in roughly six weeks, is also being released.</p>
<h3 class='anchorable-toc' id='toc_blueprint-changes'>Blueprint Changes</h3>
<p>In Ember Data 2.5 there was a change made to the blueprints to use
module paths when importing instead of importing the default DS
namespace. At the time this was thought to be a minor change and did
not receive much scrutiny. However, in time the Ember Data team has
discovered that the changes to the import statements in the blueprints
have made it more confusing for both new and experienced Ember
developers.</p>

<p>In Ember Data 2.5 and Ember Data 2.6 the following generator command for building a model:</p>

<p><code>ember generate model post content isDraft:boolean comments:has-many user:belongs-to</code></p>

<p>It would generate the following blueprint:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay">
  <thead>
    <tr>
      <td colspan="2">app/models/post.js</td>
    </tr>
  </thead>
<tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> Model from <span class="string"><span class="delimiter">'</span><span class="content">ember-data/model</span><span class="delimiter">'</span></span>;
<span class="reserved">import</span> attr from <span class="string"><span class="delimiter">'</span><span class="content">ember-data/attr</span><span class="delimiter">'</span></span>;
<span class="reserved">import</span> { belongsTo, hasMany } from <span class="string"><span class="delimiter">'</span><span class="content">ember-data/relationships</span><span class="delimiter">'</span></span>;

<span class="reserved">export</span> <span class="keyword">default</span> Model.extend({
  <span class="key">content</span>: attr(),
  <span class="key">isDraft</span>: attr(<span class="string"><span class="delimiter">'</span><span class="content">boolean</span><span class="delimiter">'</span></span>),
  <span class="key">comments</span>: hasMany(<span class="string"><span class="delimiter">'</span><span class="content">comment</span><span class="delimiter">'</span></span>),
  <span class="key">user</span>: belongsTo(<span class="string"><span class="delimiter">'</span><span class="content">user</span><span class="delimiter">'</span></span>)
});
</pre></td>
</tr></table>
</div></div>
<p>Ember Data 2.7 the same command will now generate the following blueprint:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay">
  <thead>
    <tr>
      <td colspan="2">app/models/post.js</td>
    </tr>
  </thead>
<tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> DS from <span class="string"><span class="delimiter">'</span><span class="content">ember-data</span><span class="delimiter">'</span></span>;

<span class="reserved">export</span> <span class="keyword">default</span> DS.Model.extend({
  <span class="key">content</span>: DS.attr(),
  <span class="key">isDraft</span>: DS.attr(<span class="string"><span class="delimiter">'</span><span class="content">boolean</span><span class="delimiter">'</span></span>),
  <span class="key">comments</span>: DS.hasMany(<span class="string"><span class="delimiter">'</span><span class="content">comment</span><span class="delimiter">'</span></span>),
  <span class="key">user</span>: DS.belongsTo(<span class="string"><span class="delimiter">'</span><span class="content">user</span><span class="delimiter">'</span></span>)
});
</pre></td>
</tr></table>
</div></div>
<p>The main difference is the blueprints no longer use the paths to
import specific modules. We have found that encouraging users to omit
the paths results in better defaults for both new and experienced
Ember developers. The simpler <code>import DS from &#39;ember-data&#39;;</code> statement
has less room for typos and other errors and is easier to developers
to remember so they do not need reference documentation whenever they
want to add a new import.</p>

<p>This change <em>only</em> impacts the blueprints that are generated when
using the
<a href="https://ember-cli.com/user-guide/#using-ember-cli">ember-cli generate</a>
command. Code that is written to use the path imports will still
continue to work and be supported until at least Ember Data 3.0.</p>

<p>The Ember Data team will also be releasing patch releases to Ember
Data 2.5 and 2.6 to update their blueprint generators to match Ember
Data 2.7.</p>
<h3 class='anchorable-toc' id='toc_changes-in-ember-data-2-7'>Changes in Ember Data 2.7</h3><h4 class='anchorable-toc' id='toc_code-ds-boolean-transform-allow-null-code-a-href-https-github-com-emberjs-data-pull-4022-4022-a'><code>ds-boolean-transform-allow-null</code> <a href="https://github.com/emberjs/data/pull/4022">#4022</a></h4>
<p>Allow <code>null</code>/<code>undefined</code> values for boolean attributes via <code>attr(&#39;boolean&#39;, { allowNull: true })</code></p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="comment">// app/models/user.js</span>
<span class="reserved">import</span> DS from <span class="string"><span class="delimiter">'</span><span class="content">ember-data</span><span class="delimiter">'</span></span>;

<span class="reserved">export</span> <span class="keyword">default</span> DS.Model.extend({
  <span class="key">email</span>: DS.attr(<span class="string"><span class="delimiter">'</span><span class="content">string</span><span class="delimiter">'</span></span>),
  <span class="key">username</span>: DS.attr(<span class="string"><span class="delimiter">'</span><span class="content">string</span><span class="delimiter">'</span></span>),
  <span class="key">wantsWeeklyEmail</span>: DS.attr(<span class="string"><span class="delimiter">'</span><span class="content">boolean</span><span class="delimiter">'</span></span>, { <span class="key">allowNull</span>: <span class="predefined-constant">true</span> })
});
</pre></td>
</tr></table>
</div></div><h4 class='anchorable-toc' id='toc_code-ds-links-in-record-array-code-a-href-https-github-com-emberjs-data-pull-4263-4263-a'><code>ds-links-in-record-array</code> <a href="https://github.com/emberjs/data/pull/4263">#4263</a></h4>
<p>This feature exposes a <code>links</code> object on a <code>RecordArray</code>. This can be used to load additional links when  present in the response JSON-API document.</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>store.query(<span class="string"><span class="delimiter">'</span><span class="content">post</span><span class="delimiter">'</span></span>, { <span class="key">isRecent</span>: <span class="predefined-constant">true</span> }).then((posts) =&gt; {
  posts.get(<span class="string"><span class="delimiter">'</span><span class="content">links.next</span><span class="delimiter">'</span></span>);
});
</pre></td>
</tr></table>
</div></div>
<p>Thanks to <a href="https://github.com/danmcclain">@danmcclain</a> for
implementing this feature.</p>
<h3 class='anchorable-toc' id='toc_upcoming-features-in-ember-data-2-8-beta-1'>Upcoming Features in Ember Data 2.8.beta-1</h3><h4 class='anchorable-toc' id='toc_code-ds-improved-ajax-code-a-href-https-github-com-emberjs-data-pull-3099-3099-a'><code>ds-improved-ajax</code> <a href="https://github.com/emberjs/data/pull/3099">#3099</a></h4>
<p>The <code>ds-improved-ajax</code> feature was originally planned to be released
in Ember Data 2.7. However, feedback from the beta found that many
people are overriding <code>ajax()</code> to change the protocol of the adapter
and the new methods added in made <code>ds-improved-ajax</code> made this usecase
harder to achieve. The Ember Data team has decided to delay the
<code>ds-improved-ajax</code> feature flag until the Ember Data 2.8 release while
improving the API for this usecase.</p>

<p>The <code>ds-improved-ajax</code> feature adds new public methods to
<code>DS.RESTAdapter</code>, which allow to customize the properties of a
request:</p>

<ul>
<li><code>methodForRequest</code> to get the HTTP verb</li>
<li><code>urlForRequest</code> to get the URL</li>
<li><code>headersForRequest</code> to get the headers</li>
<li><code>dataForRequest</code> to get the data (query params or request body)</li>
</ul>

<p>The <code>params</code> hash passed to those methods has all the properties with
which the corresponding <code>find</code>, <code>createRecord</code>, <code>findQuery</code>, ...  calls
have been invoked: <code>store</code>, <code>type</code>, <code>snapshot</code>(s), <code>id</code>(s) and <code>query</code>. The
<code>requestType</code> property indicates which method is requested; the possible
values are:</p>

<ul>
<li><code>createRecord</code></li>
<li><code>updateRecord</code></li>
<li><code>deleteRecord</code></li>
<li><code>query</code></li>
<li><code>queryRecord</code></li>
<li><code>findRecord</code></li>
<li><code>findAll</code></li>
<li><code>findMany</code></li>
<li><code>findHasMany</code></li>
<li><code>findBelongsTo</code></li>
</ul>

<p>Performing the actual AJAX request is handled by the <code>makeRequest</code>
method, which is similar to the existing <code>ajax</code> method: it makes the
request using <code>jQuery.ajax</code> and attaches success and failure handlers.</p>

<hr>

<p>Say your API handles creation of resources via PUT, this can now be
customized as follows:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
</pre></td>
  <td class="code"><pre><span class="comment">// adapters/application.js</span>
<span class="reserved">import</span> DS from <span class="string"><span class="delimiter">'</span><span class="content">ember-data</span><span class="delimiter">'</span></span>;

<span class="reserved">export</span> <span class="keyword">default</span> DS.RESTAdapter.extend({
  methodForRequest(params) {
    <span class="keyword">if</span> (params.requestType === <span class="string"><span class="delimiter">'</span><span class="content">createRecord</span><span class="delimiter">'</span></span>) {
      <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">PUT</span><span class="delimiter">&quot;</span></span>;
    }

    <span class="keyword">return</span> <span class="local-variable">this</span>._super(...<span class="local-variable">arguments</span>);
  }
});
</pre></td>
</tr></table>
</div></div>
<p>Thanks to <a href="https://github.com/pangratz">@pangratz</a> for
implementing this feature.</p>

<p>For more details on changes in the 2.8 beta, please review the
<a href="https://github.com/emberjs/data/blob/v2.8.0-beta.1/CHANGELOG.md">Ember Data 2.8.0-beta.1 CHANGELOG</a>.</p>


    <hr>

    <div id="disqus_thread"></div> 
    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'emberblog'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </article>

      </div>
    </div>

    <main-footer></main-footer>

        <script type="text/javascript" src="/javascripts/blog-d9e036a8.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-27675533-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/custom-elements/1.0.0/custom-elements.min.js"></script>
    <script src="https://glimmer-styleguide.global.ssl.fastly.net/glimmer-styleguide/master/app-e9fb0ee612345875c7e6f01760c81101.js"></script>
  </body>
</html>

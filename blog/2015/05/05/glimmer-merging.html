
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Ember.js - Glimmer's In Canary, Test Your Apps!</title>
		<meta property="st:title" content="Ember.js: Glimmer's In Canary, Test Your Apps!" />
		<meta property="og:title" content="Ember.js: Glimmer's In Canary, Test Your Apps!" />
		<meta property="og:description" content="Ember.js helps developers be more productive out of the box. Designed with developer ergonomics in mind, its friendly APIs help you get your job doneâ€”fast." />
		<meta property="og:image" content="http://emberjs.com/images/tomster-sm.png" />
		<meta name="twitter:card" content="summary" />
		<meta name="twitter:site" content="@emberjs" />
		<meta name="twitter:title" content="Glimmer's In Canary, Test Your Apps!"/>
		<meta name="twitter:image" content="http://emberjs.com/images/tomster-twitter-card.png" />
    <link rel="shortcut icon" href="/images/favicon.png" />
    <!--[if lte IE 7 ]><link href="/stylesheets/fonts/fontello-ie7.css" rel="stylesheet" /><![endif]-->
    <link href="/stylesheets/site.css" rel="stylesheet" />
    <link href="/blog/feed.xml" rel="alternate" type="application/atom+xml" title="Ember.js - Blog" />
    
  </head>

  <body class="blog blog_2015 blog_2015_05 blog_2015_05_05 blog_2015_05_05_glimmer-merging not-responsive">

    <!--[if lt IE 9]>
      <script type="text/javascript" src="/javascripts/common-old-ie.js"></script>
    <![endif]-->
    <!--[if gte IE 9]><!-->
      <script type="text/javascript" src="/javascripts/common-modern.js"></script>
    <!--<![endif]-->

    <header class="header">
  <nav role="navigation" aria-label="main">
    <ul class="header-nav container">
      <li class="header-logo">
        <a href="http://emberjs.com/"><span class="visually-hidden">Ember homepage</span></a>
      <li><a href="/about">About</a></li>
      <li><a href="http://guides.emberjs.com">Guides</a></li>
      <li><a href="/api">API</a></li>
      <li><a href="/community">Community</a></li>
      <li class="active"><a href="/blog">Blog</a></li>
      <li><a href="/builds">Builds</a></li>
      <li class="header-search">
        <form>
          <input type="text" id="st-search-input" placeholder="" class="st-search-input" />
        </form>
        <div id="st-results-container"></div>
      </li>
    </ul>
  </nav>
</header>


      <div class="survey-reminder-wrapper">
    <div class="survey-reminder-container">
      Only <strong>4 days left</strong> to
<a href="/ember-community-survey-2016">        submit your community survey&nbsp;response</a>!
    </div>
  </div>


    

    <div id="content-wrapper">
        <div id="sidebar">
          <ol id='toc-list'>
  <li class='level-1'>
    <a href="/blog/tags/recent-posts.html">Recent Posts</a>
    <ol style="display:block">
      <li class='level-3'><a href="/blog/2015/09/02/ember-data-2-0-released.html">Ember Data v2.0 Released and v2.1 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2015/06/18/ember-data-1-13-released.html">Ember Data v1.13 Released</a></li>
      <li class='level-3'><a href="/blog/2015/06/16/ember-project-at-2-0.html">The Ember 2.x Project</a></li>
      <li class='level-3'><a href="/blog/2015/06/09/ember-data-1-0-beta-19-1-released.html">Ember Data v1.0.0-beta.19.1 Released</a></li>
      <li class='level-3'><a href="/blog/2015/06/05/ember-data-1-0-beta-19-released.html">Ember Data v1.0.0-beta.19 Released</a></li>
      <li class='level-3'><a href="/blog/2015/05/24/another-two-oh-status-update.html">Another Ember 2.x Status Update</a></li>
      <li class='level-3'><a href="/blog/2015/05/21/ember-data-1-0-beta-18-released.html">Ember Data v1.0.0-beta.17/18 Released</a></li>
      <li class='level-3'><a href="/blog/2015/05/13/ember-1-12-released.html">Ember.js 1.12 and 1.13 Beta (Glimmer!) Released</a></li>
      <li class='level-3'><a href="/blog/2015/05/10/run-up-to-two-oh.html">The Transition to Ember 2.0 in Detail</a></li>
      <li class='level-3'><a href="/blog/2015/05/05/glimmer-merging.html">Glimmer's In Canary, Test Your Apps!</a></li>
    </ol>
  </li>
  <li class='level-1'>
    <a href="/blog/tags/releases.html">Releases</a>
    <ol style="display:block">
      <li class='level-3'><a href="/blog/2016/03/13/ember-data-2-4-released.html">Ember Data 2.4 and 2.5 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2016/02/29/ember-2-4-released.html">Ember.js 2.4 and 2.5 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2016/01/15/ember-2-3-released.html">Ember.js 2.3 and 2.4 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2016/01/14/security-releases-ember-1-11-4-1-12-2-1-13-12-2-0-3-2-1-2-2-2-1.html">Security Releases - Ember 1.11.4, 1.12.2, 1.13.12, 2.0.3, 2.1.2, 2.2.1</a></li>
      <li class='level-3'><a href="/blog/2016/01/12/ember-data-2-3-released.html">Ember Data 2.3 and 2.4 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2015/11/17/ember-data-2-2-released.html">Ember Data 2.2 and 2.3 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2015/11/16/ember-2-2-released.html">Ember.js 2.2 and 2.3 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2015/10/05/ember-data-2-1-released.html">Ember Data 2.1 and 2.2 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2015/10/04/ember-2-1-released.html">Ember.js 2.1 and 2.2 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2015/09/02/ember-data-2-0-released.html">Ember Data v2.0 Released and v2.1 Beta Released</a></li>
    </ol>
  </li>
  <li class='level-1'>
    <a href="/blog/tags/ember-data.html">Ember Data</a>
    <ol style="display:block">
      <li class='level-3'><a href="/blog/2013/05/28/ember-data-0-13.html">Ember Data 0.13</a></li>
      <li class='level-3'><a href="/blog/2013/05/03/ember-data-progress-update.html">Ember Data Progress Update</a></li>
      <li class='level-3'><a href="/blog/2013/03/22/stabilizing-ember-data.html">Stabilizing Ember Data</a></li>
    </ol>
  </li>
</ol>

          <div id="back-to-top"><a id="back-top-top" href="#">&#11014; Back to Top</a></div>
        </div>
      <div id="content" class="has-sidebar">
          <article class="blog-post">
    <h1>Glimmer's In Canary, Test Your Apps!</h1>
      <h3 class="blog-post-author">Posted By: Yehuda &ndash; <time>May 05, 2015</time></h3>

    <hr>

    <p>After months of work, <strong>Glimmer is landing in Canary today</strong>.</p>

<p>What this means:</p>

<ul>
<li>The test suite passes.</li>
<li>We have tested Glimmer on our own apps, and, for the most part, apps boot and
run correctly.</li>
<li>There are still known issues (see below), including with the test helpers.</li>
<li>At this point, we need community help to identify compatibility issues not
covered by the test suite.</li>
<li>We expect to continue improving compatibility with the pre-Glimmer engine for
some time, as new issues come to light.</li>
</ul>

<p>Glimmer is the new rendering engine the Ember community has been working on for
the past several months. It is the first ground-up change to the templating
engine since SproutCore 2.0, and takes advantage of the groundwork laid by
HTMLBars to dramatically improve re-rendering performance. It also sets the
stage for more performance improvements during the 2.x series, and
React-inspired improvements to the Ember programming model. Best of all, we are
landing Glimmer in Ember 1.13, compatible with the full public API of Ember
1.x.</p>

<p>It&#39;s also worth noting that while our apps feel faster, not every
performance benchmark will necessarily show marked improvement. There
will be more on this below, but the Glimmer refactor focused primarily
on dramatic improvements to re-rendering performance and programming
model improvements.</p>

<p>Initial render of component-heavy pages shows some improvement in most
of our tests, but you should expect to see the biggest improvements when
re-rendering lists, especially when you are not using deprecated
functionality.</p>

<p>Once we land Glimmer, you will probably see a variety of different
benchmarks testing various aspects of Ember. We expect to see benchmarks
showing that there are still pathologically slow scenarios in Ember,
especially in areas that we did not focus on improving. We expect to
continue to improve performance across Ember throughout the 2.x series,
and discuss that more below.</p>

<p>Also note that while we took great pains to support features present in
Ember 1.12 (including many long-deprecated features), that compatibility
often comes with significant performance costs. In some cases, seemingly
similar constructs (e.g. <code>{{#each posts as |post|]}</code> vs. <code>{{#each posts
itemController=&#39;post&#39; as |post|}}</code>) have significantly different
internal implementation, and the Ember 2.0 version has vastly better
performance.</p>

<p>Finally, there will be an upcoming guide in the next week or so that
describes the new features of the Glimmer engine (<code>attrs</code>, new lifecycle
hooks, keys in <code>#each</code>), but at the moment we are focusing on
compatibility with 1.x and testing the 1.x API with existing
applications.</p>

<p>Please follow these instructions to test Ember-CLI apps with Canary:</p>

<ul>
<li><a href="http://www.ember-cli.com/#using-canary-build-instead-of-release">http://www.ember-cli.com/#using-canary-build-instead-of-release</a></li>
</ul>
<h2 class='anchorable-toc' id='toc_known-issues'>Known Issues</h2>
<p>There are several known issues that you should consider when evaluating
Glimmer:</p>

<ul>
<li>There are still a few memory leaks that we have identified and are
quickly addressing.</li>
<li>The concept of <code>controller</code> in templates and actions in Ember 1.x was
fairly nuanced. Glimmer started with a simpler model and layered
compatibility on top. There are known gaps in the compatibility layer
that we are still addressing.</li>
<li>There are still a number of issues in the testing helpers (especially
the faux unit tests that use &quot;isolated containers&quot;) that are causing
apps that work correctly to fail tests. We are working to fix the test
helpers, and should have that work done before we release 1.13 beta.</li>
<li>There are likely a number of not-yet-known compatibility issues in
Glimmer. You should assume that the vast majority of issues you
encounter when testing Glimmer over the next few weeks will be addressed
before the final release.</li>
<li>The compatibility layer is quite slow in some areas, making the
overall Glimmer engine slower than we would like. We have plans to
improve overall performance through the canary and beta cycle, and
then of course in the 2.0 release cycle.</li>
<li><strong>In general, the Glimmer effort was an attempt to improve
re-rendering performance, especially in large lists.</strong> It also laid
the groundwork for significant performance work in initial render and
throughout the framework, but that work is not yet done. Expect to see
continued performance improvements in Ember throughout the 2.x cycle
as a result of this change.</li>
</ul>

<p>The most critical of these caveats should be addressed before we release 1.13
beta, and we expect to continue work on the remaining issues throughout the
1.13 beta cycle.</p>

<p>Because of the magnitude of this change, and the proximity to the Ember 2.0
&quot;cruft removal&quot; pass, we plan to aggressively fix reported bugs during the 1.13
beta period. There will be another post describing our 1.13 and 2.0 release
plans with more precision in the next few weeks.</p>
<h2 class='anchorable-toc' id='toc_performance-gains'>Performance Gains</h2>
<p>The biggest performance gains in Glimmer come from moving to a simpler
rendering model, built on top of HTMLBars.</p>

<p>First, this allowed us to remove <strong>all</strong> internal views for constructs
like <code>{{foo}}</code>, <code>{{#if bar}}</code> and even in <code>{{#each posts as |post|}}</code>.
This view removal has an impact on initial render, because these
constructs are very common in real-world templates.</p>

<p>Second, as we have discussed extensively, this allows us to
significantly improve the performance of re-rendering, which makes it
practical to re-render lists with entirely new arrays with very good
performance. Previously, achieving reasonable performance was very
difficult, and even when possible, came with significant bookkeeping
overhead.</p>

<p>Interestingly, we have found that when testing real apps, the
performance gains are much more widespread than we expected, in large
part because of the simplification of the overall model.</p>

<p><strong>Glimmer&#39;s performance in real applications has pleasantly surprised
us, exceeding the improvements we&#39;ve seen in benchmarks designed to
stress-test pathological cases.</strong></p>

<p>When upgrading to Glimmer, please pay special attention to the
real-world performance of your application <strong>in production mode</strong> and
after clearing any deprecations with performance warnings.</p>
<h2 class='anchorable-toc' id='toc_deprecated-features'>Deprecated Features</h2>
<p>Throughout the 1.x series, Ember has deprecated features we intended to
remove in 2.0. That process has continued with Ember 1.13, which will
contain Glimmer.</p>

<p>However, it&#39;s worth noting that Glimmer is the first major change to
many parts of the view layer since SproutCore 2! As a result,
perfect compatibility, especially in private APIs, was more
challenging.</p>

<p>During the process of building Glimmer, we found various semantics of
&quot;controller&quot;s to be the most challenging. For the most part, this is
because the concept of controller has a number of different meanings
depending on context (routes, <code>{{render}}</code>, <code>{{#each posts
itemController=&#39;post&#39;}}</code>, <code>{{#each posts itemController=&#39;post&#39; as
|post|}}</code>, <code>{{#with someController}}</code>, etc.).</p>

<p>Controllers and components both manage a template&#39;s &quot;context&quot; (called
&quot;self&quot; in Glimmer) and serve as a target for actions. Mirroring these
semantics, which are effectively derived from implementation details of
Ember 1.x&#39;s rendering engine, has been a challenge. We&#39;re confident they
are very close, but encourage you to open an issue if they have changed.</p>

<p>Glimmer, through HTMLBars, has a much clearer concept of &quot;scope&quot;, and
features like <code>{{yield}}</code> work directly with that scope object. We were
able to get the Ember test suite passing by implementing the old
semantics on top of the new scope concept, but <strong>we are aware that we
have gaps in our implementation.</strong></p>

<p>Please let us know if you find controller semantics that we have
implemented incorrectly. Bug reports would help, JSBins would help more,
and pull requests with failing tests would help even more.</p>

<p>Finally, for the best experience with Glimmer, you should try to move
your application away from <code>itemController</code>, <code>{{render}}</code> and other
constructs that manipulate the controller from the template. We know
that this is not always possible (our applications all still make
use of some cases of these features),  which is why we worked so hard on
compatibility.</p>

<p>That said, you&#39;ll get better performance and a quicker upgrade path to
2.0 if you work on eliminating uses of these features soon. Implementing
them correctly added enough complexity that we will want to move
somewhat aggressively in 2.x to enable us to further improve
performance.</p>


    <hr>

    <div id="disqus_thread"></div> 
    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'emberblog'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </article>

      </div>
    </div>

    <div class="footer">
  <div class="container">
    <div class="footer-info">
      Copyright 2016
      <a href="http://tilde.io">Tilde Inc.</a>
      <br>
      <a href="http://emberjs.com/team">Core Team</a> |
      <a href="http://emberjs.com/sponsors">Sponsors</a>
      <br>
      <a href="http://emberjs.com/security">Security</a> |
      <a href="http://emberjs.com/legal">Legal</a> |
      <a href="http://emberjs.com/logos">Logos</a>
      <br>
      <a href="http://emberjs.com/guidelines">Community Guidelines</a>
    </div>

    <div class="footer-statement">
      Ember.js is free, open source and always will be.
    </div>

    <div class="footer-social">
      <a href="http://twitter.com/emberjs" title="Twitter">
        <i class="icon-twitter"></i>
      </a>
      <a href="https://github.com/emberjs/ember.js" title="GitHub">
        <i class="icon-github"></i>
      </a>
      <a href="https://plus.google.com/communities/106387049790387471205" title="Google+">
        <i class="icon-gplus"></i>
      </a>
    </div>
  </div>
</div>


        <script type="text/javascript" src="/javascripts/blog.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-27675533-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>

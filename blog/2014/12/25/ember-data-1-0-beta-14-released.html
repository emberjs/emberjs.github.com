
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="theme-color" content="#e46652">
    <title>Ember.js - Ember Data v1.0.0-beta.14 Released</title>
    <meta property="st:title" content="Ember.js: Ember Data v1.0.0-beta.14 Released" />
    <meta property="og:title" content="Ember.js: Ember Data v1.0.0-beta.14 Released" />
    <meta property="og:description" content="Ember.js helps developers be more productive out of the box. Designed with developer ergonomics in mind, its friendly APIs help you get your job doneâ€”fast." />
    <meta property="og:image" content="http://emberjs.com/images/tomster-sm.png" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@emberjs" />
    <meta name="twitter:title" content="Ember Data v1.0.0-beta.14 Released"/>
    <meta name="google-site-verification" content="N9yOP2jCLcZBMHUet-JRqU2jnLVPeLDaePpkCqXGQXM" />
    <meta name="twitter:image" content="http://emberjs.com/images/tomster-twitter-card.png" />
    <link rel="shortcut icon" href="/images/favicon-b8f150dd.png" />
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600" rel="stylesheet">
    <!--[if lte IE 7 ]><link href="/stylesheets/fonts/fontello-ie7-e008d616.css" rel="stylesheet" /><![endif]-->
    <link href="/stylesheets/site-49921d02.css" rel="stylesheet" />
    <link href="/blog/feed.xml" rel="alternate" type="application/atom+xml" title="Ember.js - Blog" />
    <link rel="stylesheet" href="https://glimmer-styleguide.global.ssl.fastly.net/glimmer-styleguide/master/app-cf72b59a166beb307683d9d0dae6bb0f.css" />
    
  </head>

  <body class="blog blog_2014 blog_2014_12 blog_2014_12_25 blog_2014_12_25_ember-data-1-0-beta-14-released not-responsive">

    <!--[if lt IE 9]>
      <script type="text/javascript" src="/javascripts/common-old-ie-d70b8895.js"></script>
    <![endif]-->
    <!--[if gte IE 9]><!-->
      <script type="text/javascript" src="/javascripts/common-modern-77688f6b.js"></script>
    <!--<![endif]-->

    <main-navbar></main-navbar>

    

    <div id="content-wrapper">
        <div id="sidebar">
          <ol id='toc-list'>
  <li class='level-1'>
    <a href="/blog/tags/recent-posts.html">Recent Posts</a>
    <ol style="display:block">
      <li class='level-3'><a href="/blog/2017/10/10/glimmer-progress-report.html">Glimmer.js Progress Report</a></li>
      <li class='level-3'><a href="/blog/2017/10/03/the-road-to-ember-3-0.html">The Road to Ember 3.0</a></li>
      <li class='level-3'><a href="/blog/2017/04/05/emberconf-2017-state-of-the-union.html">EmberConf 2017: State of the Union</a></li>
      <li class='level-3'><a href="/blog/2017/02/28/2017-ember-community-survey.html">2017 Ember Community Survey</a></li>
      <li class='level-3'><a href="/blog/2016/09/07/ember-node-lts-support.html">Ember Node.js LTS Support</a></li>
    </ol>
  </li>
  <li class='level-1'>
    <a href="/blog/tags/releases.html">Releases</a>
    <ol style="display:block">
      <li class='level-3'><a href="/blog/2017/10/11/ember-2-16-released.html">Ember 2.16 and 2.17 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2017/09/01/ember-2-15-released.html">Ember 2.15 and 2.16 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2017/07/19/ember-fastboot-1-0-release.html">Ember FastBoot 1.0 Released</a></li>
      <li class='level-3'><a href="/blog/2017/07/06/ember-2-14-released.html">Ember 2.14 and 2.15 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2017/04/29/ember-2-13-released.html">Ember 2.13 and 2.14 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2017/03/19/ember-2-12-released.html">Ember 2.12 and 2.13 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2017/01/23/ember-2-11-released.html">Ember 2.11 and 2.12 Beta Released</a></li>
    </ol>
  </li>
  <li class='level-1'>
    <a href="/blog/tags/ember-data.html">Ember Data</a>
    <ol style="display:block">
      <li class='level-3'><a href="/blog/2016/07/25/ember-data-2-7-released.html">Ember Data 2.7 and 2.8 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2016/06/09/ember-data-2-6-released.html">Ember Data 2.6 and 2.7 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2016/05/03/ember-data-2-5-released.html">Ember Data 2.5 and 2.6 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2016/03/13/ember-data-2-4-released.html">Ember Data 2.4 and 2.5 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2016/01/12/ember-data-2-3-released.html">Ember Data 2.3 and 2.4 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2015/11/17/ember-data-2-2-released.html">Ember Data 2.2 and 2.3 Beta Released</a></li>
      <li class='level-3'><a href="/blog/2015/10/05/ember-data-2-1-released.html">Ember Data 2.1 and 2.2 Beta Released</a></li>
    </ol>
  </li>
</ol>

          <div id="back-to-top"><a id="back-top-top" href="#">&#11014; Back to Top</a></div>
        </div>
      <div id="content" class="has-sidebar">
          <article class="blog-post">
    <h1>Ember Data v1.0.0-beta.14 Released</h1>
      <h3 class="blog-post-author">By Stanley Stuart</h3>
      <h3 class="blog-post-date"><time>December 25, 2014</time></h3>

    <hr>

    <p>Due to a hiccup during the publishing step while releasing beta.13,
we&#39;ve removed beta.13 from npm and instead published beta.14. This
release is available to you whether you are using npm and ember-cli,
rubygems, or bower. Of course, the builds are always available as static
files at <a href="http://emberjs.com/builds">emberjs.com/builds</a>.</p>
<h2 class='anchorable-toc' id='toc_improvements'>Improvements</h2>
<p><a href="https://twitter.com/terzicigor">Igor Terzic</a>, <a href="https://twitter.com/hjdivad">David Hamilton</a>, and <a href="https://twitter.com/stefanpenner">Stefan
Penner</a> put in some great strides to improve performance around
how relationships work together in Ember Data. These performance changes
have wide-reaching effects into everything you do in Ember Data:
querying records, pushing records into the store, and creating records.
Since everyone on the Ember Data team works on real apps, we tested
these changes in our applications and saw improvements averaging 50% or
higher around pushing and creating records into the store.</p>
<h2 class='anchorable-toc' id='toc_breaking-changes'>Breaking Changes</h2><h3 class='anchorable-toc' id='toc_code-store-update-code-has-been-deprecated'><code>store.update()</code> has been deprecated</h3>
<p>Calling <code>store.update()</code> has been deprecated in favor of <code>store.push()</code>
now
handling partial payloads:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> post = store.push(<span class="string"><span class="delimiter">'</span><span class="content">post</span><span class="delimiter">'</span></span>, {
  <span class="key">id</span>: <span class="integer">1</span>,
  <span class="key">title</span>: <span class="string"><span class="delimiter">'</span><span class="content">Ember.js is fantastic</span><span class="delimiter">'</span></span>,
  <span class="key">author</span>: <span class="string"><span class="delimiter">'</span><span class="content">Tomster</span><span class="delimiter">'</span></span>
});

post.get(<span class="string"><span class="delimiter">'</span><span class="content">title</span><span class="delimiter">'</span></span>); <span class="comment">// =&gt; 'Ember.js is fantastic'</span>
post.get(<span class="string"><span class="delimiter">'</span><span class="content">author</span><span class="delimiter">'</span></span>); <span class="comment">// =&gt; 'Tomster'</span>

store.push(<span class="string"><span class="delimiter">'</span><span class="content">post</span><span class="delimiter">'</span></span>, { <span class="key">id</span>: <span class="integer">1</span>, <span class="key">author</span>: <span class="string"><span class="delimiter">'</span><span class="content">Tom Dale</span><span class="delimiter">'</span></span> });

post.get(<span class="string"><span class="delimiter">'</span><span class="content">title</span><span class="delimiter">'</span></span>); <span class="comment">// =&gt; 'Ember.js is fantastic'</span>
post.get(<span class="string"><span class="delimiter">'</span><span class="content">author</span><span class="delimiter">'</span></span>); <span class="comment">// =&gt; 'Tom Dale'</span>
</pre></td>
</tr></table>
</div></div>
<p>This also means that properties missing in the payload will no longer be
reset,
but stay the same.</p>

<p>If you need to reset values to null, you should have your server
explicitly
send back null values in the payload:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre>{
  <span class="key"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>: {
    <span class="key"><span class="delimiter">&quot;</span><span class="content">firstName</span><span class="delimiter">&quot;</span></span>: <span class="predefined-constant">null</span>,
    <span class="key"><span class="delimiter">&quot;</span><span class="content">lastName</span><span class="delimiter">&quot;</span></span>: <span class="predefined-constant">null</span>
    <span class="string"><span class="delimiter">&quot;</span><span class="content">role</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Computer Science Pioneer</span><span class="delimiter">&quot;</span></span>
  }
}
</pre></td>
</tr></table>
</div></div>
<p>If you cannot change your API and you desire this behavior, you can
create a
serializer and do the logic yourself:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
</pre></td>
  <td class="code"><pre><span class="comment">// app/serializers/person.js</span>
<span class="comment">// or App.PersonSerializer if you aren't using Ember CLI</span>
<span class="reserved">export</span> <span class="keyword">default</span> DS.RESTSerializer.extend({
  <span class="function">normalize</span>: <span class="keyword">function</span>(type, hash, prop) {
    hash = <span class="local-variable">this</span>._super(type, hash, prop);
    <span class="keyword">if</span> (!hash.hasOwnProperty(<span class="string"><span class="delimiter">'</span><span class="content">firstName</span><span class="delimiter">'</span></span>)){
      hash.firstName = <span class="predefined-constant">null</span>;
    }
    <span class="keyword">if</span> (!hash.hasOwnProperty(<span class="string"><span class="delimiter">'</span><span class="content">lastName</span><span class="delimiter">'</span></span>)){
      hash.lastName = <span class="predefined-constant">null</span>;
    }
    <span class="keyword">return</span> hash;
  }
});
</pre></td>
</tr></table>
</div></div>
<p>Or if you want to restore the old behavior for all of your models:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
</pre></td>
  <td class="code"><pre><span class="comment">// app/serializers/application.js</span>
<span class="comment">// or App.ApplicationSerializer</span>
<span class="reserved">export</span> <span class="keyword">default</span> DS.RESTSerializer.extend({
  <span class="function">normalize</span>: <span class="keyword">function</span>(type, hash, prop) {
    hash = <span class="local-variable">this</span>._super(type, hash, prop);
    type.eachAttribute(<span class="keyword">function</span>(key) {
      <span class="keyword">if</span> (!hash.hasOwnProperty(key)) {
        hash[key] = <span class="predefined-constant">null</span>;
      }
    }, <span class="local-variable">this</span>);
    <span class="keyword">return</span> hash;
  }
});
</pre></td>
</tr></table>
</div></div><h2 class='anchorable-toc' id='toc_special-thanks'>Special Thanks</h2>
<p>A special thanks to <a href="http://dockyard.com">Dockyard</a> for sponsoring Igor during the
month of December!</p>

<!-- Links -->


    <hr>

    <div id="disqus_thread"></div> 
    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'emberblog'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </article>

      </div>
    </div>

    <main-footer></main-footer>

        <script type="text/javascript" src="/javascripts/blog-d9e036a8.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-27675533-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/custom-elements/1.0.0/custom-elements.min.js"></script>
    <script src="https://glimmer-styleguide.global.ssl.fastly.net/glimmer-styleguide/master/app-e9fb0ee612345875c7e6f01760c81101.js"></script>
  </body>
</html>

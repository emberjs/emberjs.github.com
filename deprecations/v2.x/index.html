<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="theme-color" content="#e46652">
    <title>Ember.js - Deprecations for v2.x</title>
		<meta property="st:title" content="Ember.js: Deprecations for v2.x" />
		<meta property="og:title" content="Ember.js: Deprecations for v2.x" />
		<meta property="og:description" content="Ember.js helps developers be more productive out of the box. Designed with developer ergonomics in mind, its friendly APIs help you get your job doneâ€”fast." />
		<meta property="og:image" content="http://emberjs.com/images/tomster-sm.png" />
		<meta name="twitter:card" content="summary" />
		<meta name="twitter:site" content="@emberjs" />
		<meta name="twitter:title" content="Deprecations for v2.x"/>
		<meta name="twitter:image" content="http://emberjs.com/images/tomster-twitter-card.png" />
    <link rel="shortcut icon" href="/images/favicon-b8f150dd.png" />
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600" rel="stylesheet">
    <!--[if lte IE 7 ]><link href="/stylesheets/fonts/fontello-ie7-e008d616.css" rel="stylesheet" /><![endif]-->
    <link href="/stylesheets/site-e5637f7b.css" rel="stylesheet" />
    <link href="/blog/feed.xml" rel="alternate" type="application/atom+xml" title="Ember.js - Blog" />
    
  </head>

  <body class="deprecations deprecations_v2 not-responsive">

    <!--[if lt IE 9]>
      <script type="text/javascript" src="/javascripts/common-old-ie-a611d662.js"></script>
    <![endif]-->
    <!--[if gte IE 9]><!-->
      <script type="text/javascript" src="/javascripts/common-modern-e2066739.js"></script>
    <!--<![endif]-->

    <header class="header">
  <nav role="navigation" aria-label="main">
    <ul class="header-nav container">
      <li class="header-logo">
        <a href="http://emberjs.com/"><span class="visually-hidden">Ember homepage</span></a>
      <li><a href="/learn">Learn</a></li>
      <li><a href="http://guides.emberjs.com">Guides</a></li>
      <li><a href="/api">API</a></li>
      <li><a href="/community">Community</a></li>
      <li><a href="/blog">Blog</a></li>
      <li><a href="/builds">Builds</a></li>
      <li class="header-search">
        <form>
          <input type="text" id="search-input" class="search-input" placeholder="Search ..."/>
        </form>
      </li>
    </ul>
  </nav>
</header>
        <div class="survey-reminder-wrapper">
      <div class="survey-reminder-container">
        The results of the
<a href="/ember-community-survey-2017">            2017 Ember Community Survey
        </a>!
      </div>
    </div>


    

    <div id="content-wrapper">
        <div id="sidebar">
              <ol id='toc-list'>
    </ol>

          <div id="back-to-top"><a id="back-top-top" href="#">&#11014; Back to Top</a></div>
        </div>
      <div id="content" class="has-sidebar">
        
  <h2 class='anchorable-toc' id='toc_deprecations-added-in-ember-2-x'>Deprecations Added in Ember 2.x</h2>
<p>What follows is a list of deprecations introduced to Ember.js during the 2.x
cycle.</p>

<p>For more information on deprecations in Ember, see the <a href="/deprecations">main deprecations page</a>.</p>
<h3 class='anchorable-toc' id='toc_deprecations-added-in-2-1'>Deprecations Added in 2.1</h3><h4 class='anchorable-toc' id='toc_initializer-arity'>Initializer Arity</h4><h6 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h6><h6 class='anchorable-toc' id='toc_id-ember-application-app-initializer-initialize-arguments'>id: ember-application.app-initializer-initialize-arguments</h6>
<p>In prior versions of Ember initializers have taken two arguments (generally labeled as
<code>container</code> and <code>application</code>). Starting with Ember 2.1 providing two arguments to an
<code>initializer</code> will trigger a deprecation.</p>

<p>The following initializer for Ember 2.0 will trigger a deprecation:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="reserved">export</span> <span class="keyword">function</span> <span class="function">initialize</span>(container, application) {
  application.inject(<span class="string"><span class="delimiter">'</span><span class="content">route</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">service:session</span><span class="delimiter">'</span></span>);
}

<span class="reserved">export</span> <span class="keyword">default</span> {
  <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">inject-session</span><span class="delimiter">'</span></span>,
  <span class="key">initialize</span>: initialize
}
</pre></td>
</tr></table>
</div></div>
<p>To clear the deprecation, remove the first argument (<code>container</code> in the above example):</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="reserved">export</span> <span class="keyword">function</span> <span class="function">initialize</span>(application) {
  application.inject(<span class="string"><span class="delimiter">'</span><span class="content">route</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">service:session</span><span class="delimiter">'</span></span>);
}

<span class="reserved">export</span> <span class="keyword">default</span> {
  <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">inject-session</span><span class="delimiter">'</span></span>,
  <span class="key">initialize</span>: initialize
}
</pre></td>
</tr></table>
</div></div>
<p>In some cases an addon might need to support both versions of Ember with the same initializer,
one way to do this without triggering a deprecation would be the following (using the same
example as above):</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
</pre></td>
  <td class="code"><pre><span class="reserved">export</span> <span class="keyword">function</span> <span class="function">initialize</span>() {
  let application = <span class="local-variable">arguments</span>[<span class="integer">1</span>] || <span class="local-variable">arguments</span>[<span class="integer">0</span>];
  application.inject(<span class="string"><span class="delimiter">'</span><span class="content">route</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">service:session</span><span class="delimiter">'</span></span>);
}

<span class="reserved">export</span> <span class="keyword">default</span> {
  <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">inject-session</span><span class="delimiter">'</span></span>,
  <span class="key">initialize</span>: initialize
}
</pre></td>
</tr></table>
</div></div><h4 class='anchorable-toc' id='toc_ember-application-registry-ember-applicationinstance-registry'>Ember.Application#registry / Ember.ApplicationInstance#registry</h4><h5 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h5><h5 class='anchorable-toc' id='toc_id-ember-application-app-instance-registry'>id: ember-application.app-instance-registry</h5>
<p>When the container and registry were split, the registry was added to <code>Ember.Application</code> instances (provided to
initializers as the first argument in 2.1) and <code>Ember.ApplicationInstance</code> instances (provided to instance initializers
as the first argument). Unfortunately, this was done without making it clear that the <code>.registry</code> property on
<code>Ember.Application</code> instances was private. This lead quite a few addons and applications to directly use the registry.</p>

<p>During the 2.1 cycle a new feature (<code>ember-registry-container-reform</code>) was enabled to provide more
public API&#39;s to access the <code>registry</code> functionality (without exposing all of the private internals).</p>

<p>The following list can be used to migrate from <code>app.registry.*</code> usage to the new public API&#39;s:</p>

<ul>
<li><code>app.registry.resolve</code> -&gt; <code>app.resolveRegistration</code></li>
<li><code>app.registry.register</code> -&gt; <code>app.register</code></li>
<li><code>app.registry.unregister</code> -&gt; <code>app.unregister</code></li>
<li><code>app.registry.has</code> -&gt; <code>app.hasRegistration</code></li>
<li><code>app.registry.option</code> -&gt; <code>app.registerOption</code></li>
<li><code>app.registry.options</code> -&gt; <code>app.registerOptions</code></li>
<li><code>app.registry.getOptions</code> -&gt; <code>app.registeredOptions</code></li>
<li><code>app.registry.optionsForType</code> -&gt; <code>app.registerOptionsForType</code></li>
<li><code>app.registry.getOptionsForType</code> -&gt; <code>app.registeredOptionsForType</code></li>
<li><code>app.registry.injection</code> -&gt; <code>app.inject</code></li>
</ul>
<h4 class='anchorable-toc' id='toc_ember-applicationinstance-container'>Ember.ApplicationInstance#container</h4><h5 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h5><h5 class='anchorable-toc' id='toc_id-ember-application-app-instance-container'>id: ember-application.app-instance-container</h5>
<p>When instance initializers were added, using <code>appInstance.container.lookup</code> was suggested in lieu of using the first argument
to initializers. Unfortunately, the <code>container</code> system has always been private and the previous initializer deprecation led
users down the wrong path.</p>

<p>During the 2.1 cycle a new feature (<code>ember-registry-container-reform</code>) was enabled to provide more
public API&#39;s for accessing the container for looking up instances without exposing all of the private internals.</p>

<p>Please refactor from using <code>appInstance.container.lookup</code> to <code>appInstance.lookup</code>.</p>

<p>Before:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
</pre></td>
  <td class="code"><pre><span class="comment">// app/initializers/preload-store.js</span>

<span class="reserved">export</span> <span class="keyword">function</span> <span class="function">initialize</span>(appInstance) {
  let store = appInstance.container.lookup(<span class="string"><span class="delimiter">'</span><span class="content">service:store</span><span class="delimiter">'</span></span>);

  store.pushPayload(<span class="error">`</span>&lt;payload here&gt;<span class="error">`</span>);
}

<span class="reserved">export</span> <span class="keyword">default</span> {
  <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">preload-store</span><span class="delimiter">'</span></span>,
  <span class="key">initialize</span>: initialize
}
</pre></td>
</tr></table>
</div></div>
<p>After:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
</pre></td>
  <td class="code"><pre><span class="comment">// app/instance-initializers/preload-store.js</span>

<span class="reserved">export</span> <span class="keyword">function</span> <span class="function">initialize</span>(appInstance) {
  let store = appInstance.lookup(<span class="string"><span class="delimiter">'</span><span class="content">service:store</span><span class="delimiter">'</span></span>);

  store.pushPayload(<span class="error">`</span>&lt;payload here&gt;<span class="error">`</span>);
}

<span class="reserved">export</span> <span class="keyword">default</span> {
  <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">preload-store</span><span class="delimiter">'</span></span>,
  <span class="key">initialize</span>: initialize
}
</pre></td>
</tr></table>
</div></div><h4 class='anchorable-toc' id='toc_ember-debug-function-options'>Ember debug function options</h4><h5 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h5><h5 class='anchorable-toc' id='toc_id-ember-debug-deprecate-options-missing-ember-debug-deprecate-id-missing-ember-debug-deprecate-until-missing-ember-debug-warn-options-missing-ember-debug-warn-id-missing'>id: ember-debug.deprecate-options-missing, ember-debug.deprecate-id-missing, ember-debug.deprecate-until-missing, ember-debug.warn-options-missing, ember-debug.warn-id-missing</h5>
<p>Starting in Ember 2.1 various debug functions now require a third argument (commonly called <code>options</code>).</p>

<p><code>id</code> is required by all methods listed below, and the deprecation related methods also require an <code>until</code> property.</p>

<ul>
<li><code>Ember.deprecate</code></li>
<li><code>Ember.deprecateFunc</code></li>
<li><code>Ember.computed.deprecatingAlias</code></li>
<li><code>Ember.warn</code></li>
</ul>

<p>The <code>id</code> property is intended to allow runtime debug handlers to uniquely identify the source, and the <code>until</code> property is used
to indicate the future version when the deprecated behavior will no longer exist.</p>

<p>The goal of these changes is to allow tools like
<a href="https://github.com/mixonic/ember-cli-deprecation-workflow">ember-cli-deprecation-workflow</a> to make managing
these deprecations and warnings much easier (by matching on the <code>id</code> instead of the full deprecation/warn message).</p>
<h4 class='anchorable-toc' id='toc_ember-component-defaultlayout'>Ember.Component#defaultLayout</h4><h5 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h5><h5 class='anchorable-toc' id='toc_id-ember-views-component-defaultlayout'>id: ember-views.component.defaultLayout</h5>
<p>Specifying a <code>defaultLayout</code> to a component is deprecated in favor of specifying <code>layout</code> directly. <code>defaultLayout</code> was
often used in order to allow inheriting components to fallback to their parents <code>defaultLayout</code> if a custom <code>layout</code> was
not provided. Due to the way a components layout is looked up naturally, this is true when using <code>layout</code> properties in
both locations. Changing the <code>layout</code> detection process allows initial render speed (with many components) to be
improved pretty significantly.</p>

<p>Before:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre><span class="comment">// Ember &lt; 2.1</span>
<span class="reserved">import</span> layout from <span class="string"><span class="delimiter">'</span><span class="content">../templates/some-thing-lol</span><span class="delimiter">'</span></span>;

<span class="reserved">export</span> <span class="keyword">default</span> Ember.Component.extend({
  <span class="key">defaultLayout</span>: layout
});
</pre></td>
</tr></table>
</div></div>
<p>After:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre><span class="comment">// Ember 2.1 and later</span>
<span class="reserved">import</span> layout from <span class="string"><span class="delimiter">'</span><span class="content">../templates/some-thing-lol</span><span class="delimiter">'</span></span>;

<span class="reserved">export</span> <span class="keyword">default</span> Ember.Component.extend({
  <span class="key">layout</span>: layout
});
</pre></td>
</tr></table>
</div></div><h4 class='anchorable-toc' id='toc_ember-component-currentstate'>Ember.Component#currentState</h4><h5 class='anchorable-toc' id='toc_until-2-3-0'>until: 2.3.0</h5><h5 class='anchorable-toc' id='toc_id-ember-view-current-state'>id: ember-view.current-state</h5>
<p>The <code>currentState</code> property on <code>Ember.Component</code> instances is a private property that Ember uses
internally to deal with the various states a component can be in (in DOM, pre-render, destroying, etc). Unfortunately,
this removes a pretty common term (<code>currentState</code> might be used for many things in a user-land component).</p>

<p>In Ember 2.1 the internal <code>.currentState</code> property has been moved to <code>_currentState</code> to avoid conflicts.</p>

<p>Please keep in mind that <code>.currentState</code> / <code>._currentState</code> is still private and should not be used/relied upon
outside of Ember internals.</p>
<h3 class='anchorable-toc' id='toc_deprecations-added-in-2-2'>Deprecations Added in 2.2</h3><h4 class='anchorable-toc' id='toc_function-as-test-in-ember-deprecate-ember-warn-ember-assert'>Function as test in Ember.deprecate, Ember.warn, Ember.assert</h4><h5 class='anchorable-toc' id='toc_until-2-5-0'>until: 2.5.0</h5><h5 class='anchorable-toc' id='toc_id-ember-debug-deprecate-test-as-function'>id: ember-debug.deprecate-test-as-function</h5><h5 class='anchorable-toc' id='toc_deprecated-behavior'>Deprecated behavior</h5>
<p>Calling <code>Ember.deprecate</code>, <code>Ember.warn</code> or <code>Ember.assert</code> with a function as test argument is deprecated.</p>

<p>You can no longer pass arguments of type <code>function</code> to these methods. Following calls will trigger deprecations:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
</pre></td>
  <td class="code"><pre>const message = <span class="string"><span class="delimiter">'</span><span class="content">Test message.</span><span class="delimiter">'</span></span>;
const options = { <span class="key">id</span>: <span class="string"><span class="delimiter">'</span><span class="content">test</span><span class="delimiter">'</span></span>, <span class="key">until</span>: <span class="string"><span class="delimiter">'</span><span class="content">3.0.0</span><span class="delimiter">'</span></span> };

<span class="comment">// passing function</span>
Ember.deprecate(message, <span class="keyword">function</span>() {
  <span class="keyword">return</span> <span class="predefined-constant">true</span>;
}, options);

const myConstructor = {}.constructor;

<span class="comment">// passing constructor (also a function)</span>
Ember.warn(message, myConstructor, options);

<span class="comment">// passing function with double arrow syntax</span>
Ember.assert(message, () =&gt; <span class="predefined-constant">true</span>, options);
</pre></td>
</tr></table>
</div></div>
<p><a href="http://ember-twiddle.com/34d36b9121e017d2388f">Demo.</a></p>
<h5 class='anchorable-toc' id='toc_refactoring'>Refactoring</h5>
<p>You have 3 options to refactor second argument from <code>function</code> to <code>boolean</code>:</p>

<ol>
<li>Use <a href="https://en.wikipedia.org/wiki/Immediately-invoked_function_expression">IIFE</a>.</li>
<li>Use <code>!!Constructor</code> for constructors.</li>
<li>Pass <code>boolean</code> directly instead of wrapping it in function.</li>
</ol>

<p>Example:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
</pre></td>
  <td class="code"><pre><span class="comment">// ... message, options omitted for brevity</span>

<span class="comment">// passing IIFE (1)</span>
Ember.deprecate(message, (<span class="keyword">function</span>() {
    <span class="keyword">return</span> <span class="predefined-constant">true</span>;
})(), options);

const myConstructor = {}.constructor;

<span class="comment">// passing !!constructor (2)</span>
Ember.warn(message, !!myConstructor, options);

<span class="comment">// passing boolean directly (3)</span>
Ember.assert(message, <span class="predefined-constant">true</span>, options);
</pre></td>
</tr></table>
</div></div>
<p><a href="http://ember-twiddle.com/ed90d0c7812914f09a3f">Demo.</a></p>

<p>In a future version functions will be treated as truthy values instead of being executed.</p>
<h3 class='anchorable-toc' id='toc_deprecations-added-in-2-3'>Deprecations added in 2.3</h3><h4 class='anchorable-toc' id='toc_injected-container-access'>Injected container access</h4><h5 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h5><h5 class='anchorable-toc' id='toc_id-ember-application-injected-container'>id: ember-application.injected-container</h5>
<p><code>this.container</code> has been private API since at least Ember 1.0.0. Unfortunately, there was not a public API available
to use as an alternative.  In the Ember 2.1 cycle a number of public API&#39;s were added to instance initializers
that allowed access to the container and registry (see <a href="http://emberjs.com/api/classes/ContainerProxyMixin.html">here</a>
and <a href="http://emberjs.com/api/classes/RegistryProxyMixin.html">here</a> for details of the public API&#39;s), but this new public
API surface was not added to individual instances that were using <code>this.container</code> directly.</p>

<p>Ember 2.3 now provides a public API for usage from within any instances that were instantiated from the container.</p>

<p>This refactor is relatively straight forward for applications, but still leaves a few gaps for addons that want to function
without deprecation on all versions while still using the newer paradigms. <a href="https://github.com/rwjblue/ember-getowner-polyfill">ember-getowner-polyfill</a>
was created for this exact reason.</p>

<p>Note that the <code>getOwner</code> API is natively available in Ember versions 2.3 and up, so you don&#39;t need to install a polyfill. Use it like you would use any other API, as in the <code>After:</code> example.</p>

<p>Before:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td>
  <td class="code"><pre><span class="comment">// Ember &lt; 2.3</span>
<span class="reserved">import</span> Ember from <span class="string"><span class="delimiter">'</span><span class="content">ember</span><span class="delimiter">'</span></span>;

<span class="reserved">export</span> <span class="keyword">default</span> Ember.Helper.extend({
  init() {
    <span class="local-variable">this</span>._super(...<span class="local-variable">arguments</span>);

    <span class="local-variable">this</span>.customThing = <span class="local-variable">this</span>.container.lookup(<span class="string"><span class="delimiter">'</span><span class="content">custom:thing</span><span class="delimiter">'</span></span>);
  }
});
</pre></td>
</tr></table>
</div></div>
<p>After:</p>

<p>do an ember install of the polyfill.</p>
<div class="highlight sh "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>ember install ember-getowner-polyfill
</pre></td>
</tr></table>
</div></div>
<p>After it installs, use as follows:-</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td>
  <td class="code"><pre><span class="comment">// Ember &lt; 2.3 needs the polyfill installed, Ember &gt;= 2.3 available natively.</span>
<span class="reserved">import</span> Ember from <span class="string"><span class="delimiter">'</span><span class="content">ember</span><span class="delimiter">'</span></span>;

<span class="reserved">export</span> <span class="keyword">default</span> Ember.Helper.extend({
  init() {
    <span class="local-variable">this</span>._super(...<span class="local-variable">arguments</span>);

    <span class="local-variable">this</span>.customThing = Ember.getOwner(<span class="local-variable">this</span>).lookup(<span class="string"><span class="delimiter">'</span><span class="content">custom:thing</span><span class="delimiter">'</span></span>);
  }
});
</pre></td>
</tr></table>
</div></div><h3 class='anchorable-toc' id='toc_deprecations-added-in-2-4'>Deprecations Added in 2.4</h3><h4 class='anchorable-toc' id='toc_render-helper-with-block'>{{#render}} helper with block</h4><h5 class='anchorable-toc' id='toc_until-2-4-0'>until: 2.4.0</h5><h5 class='anchorable-toc' id='toc_id-ember-template-compiler-deprecate-render-block'>id: ember-template-compiler.deprecate-render-block</h5>
<p>The <code>{{render}}</code> helper was never intended to support a block form, but unfortunatley (mostly
due to various refactorings in 1.10 and 1.13) it started working in block form. Since this was
not properly engineered, there are a number of caveats (i.e. the <code>controller</code> and <code>target</code> values of
anything inside the block are incorrect) that prevent continued support.</p>

<p>Support the following forms will be removed after 2.4:</p>
<div class="highlight hbs "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>{{#render 'foo'}}
  &lt;p&gt;Stuff Here&lt;/p&gt;
{{/render}}
</pre></td>
</tr></table>
</div></div><div class="highlight hbs "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>{{#render 'foo' someModel}}
  &lt;p&gt;Stuff Here&lt;/p&gt;
{{/render}}
</pre></td>
</tr></table>
</div></div><h3 class='anchorable-toc' id='toc_deprecations-added-in-2-6'>Deprecations Added in 2.6</h3><h4 class='anchorable-toc' id='toc_ember-component-didinitattrs'>Ember.Component#didInitAttrs</h4><h5 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h5><h5 class='anchorable-toc' id='toc_id-ember-views-did-init-attrs'>id: ember-views.did-init-attrs</h5>
<p>Using <code>didInitAttrs</code> is deprecated in favour of using <code>init</code>. When <code>init</code> is called the attrs sent in with the component will be
available after calling <code>this._super(...arguments)</code></p>

<p>Given a htmlbars template like this:</p>
<div class="highlight hbs "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>{{my-component handle=&quot;@tomdale&quot;}}
</pre></td>
</tr></table>
</div></div>
<p>Before:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre><span class="reserved">export</span> <span class="keyword">default</span> Ember.Component.extend({
  didInitAttrs() {
    <span class="local-variable">this</span>._super(...<span class="local-variable">arguments</span>);
    <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">handle</span><span class="delimiter">'</span></span>); <span class="comment">// @tomdale</span>
  }
});
</pre></td>
</tr></table>
</div></div>
<p>After:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre><span class="reserved">export</span> <span class="keyword">default</span> Ember.Component.extend({
  init() {
    <span class="local-variable">this</span>._super(...<span class="local-variable">arguments</span>);
    <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">handle</span><span class="delimiter">'</span></span>); <span class="comment">// @tomdale</span>
  }
});
</pre></td>
</tr></table>
</div></div><h4 class='anchorable-toc' id='toc_model-param-in-code-render-code-helper'>Model param in <code>{{render</code> helper</h4><h5 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h5><h5 class='anchorable-toc' id='toc_id-ember-template-compiler-deprecate-render-model'>id: ember-template-compiler.deprecate-render-model</h5>
<p>Using the model param in the <code>{{render</code> helper is deprecated in favor of using
components. Please refactor to a component and invoke thusly:</p>

<p>For example, if you had:</p>
<div class="highlight hbs "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>{{render 'foo-bar' someModel}}
</pre></td>
</tr></table>
</div></div><div class="highlight hbs "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
</pre></td>
  <td class="code"><pre>{{! app/templates/foo-bar.hbs }}
&lt;p&gt;{{someProp}} template stuff here&lt;/p&gt;
</pre></td>
</tr></table>
</div></div><div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre><span class="comment">// app/controllers/foo-bar.js</span>
<span class="reserved">export</span> <span class="keyword">default</span> Controller.extend({
  <span class="key">someProp</span>: Ember.computed(<span class="string"><span class="delimiter">'</span><span class="content">model.yolo</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>() {
    <span class="keyword">return</span> <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">model.yolo</span><span class="delimiter">'</span></span>);
  })
});
</pre></td>
</tr></table>
</div></div>
<p>Would be refactored to:</p>
<div class="highlight hbs "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>{{foo-bar model=someModel}}
</pre></td>
</tr></table>
</div></div><div class="highlight hbs "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
</pre></td>
  <td class="code"><pre>{{! app/templates/components/foo-bar.hbs }}
&lt;p&gt;{{someProp}} template stuff here&lt;/p&gt;
</pre></td>
</tr></table>
</div></div><div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre><span class="comment">// app/components/foo-bar.js</span>
<span class="reserved">export</span> <span class="keyword">default</span> Component.extend({
  <span class="key">someProp</span>: Ember.computed(<span class="string"><span class="delimiter">'</span><span class="content">model.yolo</span><span class="delimiter">'</span></span>, <span class="keyword">function</span>() {
    <span class="keyword">return</span> <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">model.yolo</span><span class="delimiter">'</span></span>);
  })
});
</pre></td>
</tr></table>
</div></div><h4 class='anchorable-toc' id='toc_legacy-support-addons'>Legacy support addons</h4>
<p>Ember provides addons <a href="https://github.com/emberjs/ember-legacy-views">ember-legacy-views</a> and
<a href="https://github.com/emberjs/ember-legacy-controllers">ember-legacy-controllers</a> that allow for projects to continue
using some legacy concepts in 2.x.
Beginning in 2.4, use of these addons is now deprecated.</p>

<p>See the deprecation guide sections on <a href="http://emberjs.com/deprecations/v1.x/#toc_ember-view">removing views</a>,
<a href="http://emberjs.com/deprecations/v1.x/#toc_arraycontroller"><code>ArrayController</code></a>,
and <a href="http://emberjs.com/deprecations/v1.x/#toc_objectcontroller"><code>ObjectController</code></a>
for information on migration.</p>

<p>Once view and controller deprecations are removed, you can remove the addons with the command:
<code>npm uninstall --save-dev ember-legacy-views &amp;&amp; npm uninstall ember-legacy-controllers</code></p>
<h3 class='anchorable-toc' id='toc_deprecations-added-in-2-7'>Deprecations Added in 2.7</h3><h4 class='anchorable-toc' id='toc_ember-backburner'>Ember.Backburner</h4><h5 class='anchorable-toc' id='toc_until-2-8-0'>until: 2.8.0</h5><h5 class='anchorable-toc' id='toc_id-ember-metal-ember-backburner'>id: ember-metal.ember-backburner</h5>
<p><code>Ember.Backburner</code> was private throughout the Ember 2.x series and will be
removed <em>after</em> 2.8.</p>
<h4 class='anchorable-toc' id='toc_ember-binding'>Ember.Binding</h4><h5 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h5><h5 class='anchorable-toc' id='toc_id-ember-metal-binding'>id: ember-metal.binding</h5>
<p><code>Ember.Binding</code> has not been needed for some time and is deprecated in favor of
computed properties and services (depending on what you were binding to). It is
recommended that you take the following actions:</p>

<ol>
<li>Refactor global bindings to services</li>
<li>Refactor <code>oneWay</code> bindings to <code>readOnly</code> computed properties</li>
<li>Refactor all other bindings to <code>alias</code> computed properties</li>
</ol>

<p>The <a href="https://guides.emberjs.com/v2.5.0/applications/services/">guide on services</a> is a good place
to start for creating and consuming services to replace your global bindings.
In general though, you will replace your global with a service and consume it
like this:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
</pre></td>
  <td class="code"><pre><span class="reserved">export</span> <span class="keyword">default</span> Ember.Component.extend({
  <span class="comment">// will load the service in file /app/services/cool-service.js</span>
  <span class="key">coolService</span>: Ember.inject.service()
});
</pre></td>
</tr></table>
</div></div>
<p>This would replace a binding that may have looked like this:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="reserved">export</span> <span class="keyword">default</span> Ember.Component.extend({
  <span class="key">boringObjectBinding</span>: <span class="string"><span class="delimiter">'</span><span class="content">MyApp.boringObject</span><span class="delimiter">'</span></span>
});
</pre></td>
</tr></table>
</div></div>
<p>Refactoring local bindings to computed properties can be achieved with
less work:</p>

<p>If you had this:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="reserved">export</span> <span class="keyword">default</span> Ember.Component.extend({
  <span class="key">thingContainer</span>: <span class="error">â€¦</span>,
  <span class="key">thingOneBinding</span>: Ember.Binding.oneWay(<span class="string"><span class="delimiter">'</span><span class="content">thingContainer.thingOne</span><span class="delimiter">'</span></span>),
  <span class="key">thingTwoBinding</span>: <span class="string"><span class="delimiter">'</span><span class="content">thingContainer.thingTwo</span><span class="delimiter">'</span></span>
});
</pre></td>
</tr></table>
</div></div>
<p>You could change it to this:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="reserved">export</span> <span class="keyword">default</span> Ember.Component.extend({
  <span class="key">thingContainer</span>: <span class="error">â€¦</span>,
  <span class="key">thingOne</span>: Ember.computed.readOnly(<span class="string"><span class="delimiter">'</span><span class="content">thingContainer.thingOne</span><span class="delimiter">'</span></span>),
  <span class="key">thingTwo</span>: Ember.computed.alias(<span class="string"><span class="delimiter">'</span><span class="content">thingContainer.thingTwo</span><span class="delimiter">'</span></span>)
});
</pre></td>
</tr></table>
</div></div>
<p>See the <a href="https://guides.emberjs.com/v2.5.0/object-model/computed-properties/">guide on computed properties</a> for
further reading.</p>
<h3 class='anchorable-toc' id='toc_deprecations-added-in-2-8'>Deprecations Added in 2.8</h3><h4 class='anchorable-toc' id='toc_use-ember-string-htmlsafe-over-ember-handlebars-safestring'>Use Ember.String.htmlSafe over Ember.Handlebars.SafeString</h4><h5 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h5><h5 class='anchorable-toc' id='toc_id-ember-htmlbars-ember-handlebars-safestring'>id: ember-htmlbars.ember-handlebars-safestring</h5>
<p>Creating safe strings. Before:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> Ember from <span class="string"><span class="delimiter">'</span><span class="content">ember</span><span class="delimiter">'</span></span>;
const { computed } = Ember;

<span class="reserved">export</span> <span class="keyword">default</span> Ember.Component.extend({
  <span class="key">myString</span>: computed(<span class="keyword">function</span>(){
    <span class="keyword">return</span> <span class="keyword">new</span> Ember.Handlebars.SafeString(someString);
  });
})
</pre></td>
</tr></table>
</div></div>
<p>After:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> Ember from <span class="string"><span class="delimiter">'</span><span class="content">ember</span><span class="delimiter">'</span></span>;
const { computed } = Ember;

<span class="reserved">export</span> <span class="keyword">default</span> Ember.Component.extend({
  <span class="key">myString</span>: computed(<span class="keyword">function</span>(){
    <span class="keyword">return</span> Ember.String.htmlSafe(someString);
  });
)};
</pre></td>
</tr></table>
</div></div>
<p>Detecting safe strings. Before:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> Ember from <span class="string"><span class="delimiter">'</span><span class="content">ember</span><span class="delimiter">'</span></span>;

<span class="reserved">export</span> <span class="keyword">default</span> Ember.Component.extend({
  <span class="key">actions</span>: {
    save() {
      let myString = <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">myString</span><span class="delimiter">'</span></span>);
      <span class="keyword">if</span> (myString <span class="keyword">instanceof</span> Ember.Handlebars.SafeString) {
        <span class="comment">// ...</span>
      }
    }
  }
});
</pre></td>
</tr></table>
</div></div>
<p>After:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
</pre></td>
  <td class="code"><pre><span class="reserved">import</span> Ember from <span class="string"><span class="delimiter">'</span><span class="content">ember</span><span class="delimiter">'</span></span>;

<span class="reserved">export</span> <span class="keyword">default</span> Ember.Component.extend({
  <span class="key">actions</span>: {
    save() {
      let myString = <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">myString</span><span class="delimiter">'</span></span>);
      <span class="keyword">if</span> (Ember.String.isHTMLSafe(myString)) {
        <span class="comment">// ...</span>
      }
    }
  }
});
</pre></td>
</tr></table>
</div></div>
<p>If you&#39;re an addon maintainer, there is a polyfill for safe string detection (<a href="https://github.com/workmanw/ember-string-ishtmlsafe-polyfill">ember-string-ishtmlsafe-polyfill</a>)
that will help maintain backwards compatibility. Additionally, it&#39;s worth noting that <code>Ember.String.htmlSafe</code>
is supported back to pre-1.0, so there should be no concerns of backwards compatibility there.</p>
<h4 class='anchorable-toc' id='toc_enumerable-contains'>Enumerable#contains</h4><h5 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h5><h5 class='anchorable-toc' id='toc_id-ember-runtime-enumerable-contains'>id: ember-runtime.enumerable-contains</h5>
<p>The <code>Enumerable#contains</code> and <code>Array#contains</code> methods were deprecated in favor of <code>Enumerable#includes</code> and <code>Array#includes</code>
to stay in line with ES standards. See <a href="https://github.com/emberjs/rfcs/blob/master/text/0136-contains-to-includes.md">RFC</a> for details.</p>

<p><code>contains</code> and <code>includes</code> have similar behaviors. A notable exception is how <code>NaN</code> values are handled.
<code>contains</code> uses <a href="https://tc39.github.io/ecma262/2016/#sec-strict-equality-comparison">Strict equality comparison algorithm</a>
for testing inclusion while <code>includes</code> uses <a href="https://tc39.github.io/ecma262/2016/#sec-samevaluezero">SameValueZero algorithm</a>.</p>

<p>Before:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> arr = [<span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">b</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">c</span><span class="delimiter">'</span></span>, <span class="predefined-constant">NaN</span>, <span class="predefined-constant">undefined</span>, <span class="predefined-constant">null</span>];
arr.contains(<span class="string"><span class="delimiter">'</span><span class="content">b</span><span class="delimiter">'</span></span>);        <span class="comment">// true</span>
arr.contains(<span class="string"><span class="delimiter">'</span><span class="content">d</span><span class="delimiter">'</span></span>);        <span class="comment">// false</span>
arr.contains(<span class="predefined-constant">NaN</span>);        <span class="comment">// false</span>
arr.contains(<span class="predefined-constant">null</span>);       <span class="comment">// false</span>
arr.contains(<span class="predefined-constant">undefined</span>);  <span class="comment">// false</span>
</pre></td>
</tr></table>
</div></div>
<p>After:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> arr = [<span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">b</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">c</span><span class="delimiter">'</span></span>, <span class="predefined-constant">NaN</span>, <span class="predefined-constant">undefined</span>, <span class="predefined-constant">null</span>];
arr.includes(<span class="string"><span class="delimiter">'</span><span class="content">b</span><span class="delimiter">'</span></span>);        <span class="comment">// true</span>
arr.includes(<span class="string"><span class="delimiter">'</span><span class="content">d</span><span class="delimiter">'</span></span>);        <span class="comment">// false</span>
arr.includes(<span class="predefined-constant">NaN</span>);        <span class="comment">// true</span>
arr.includes(<span class="predefined-constant">null</span>);       <span class="comment">// true</span>
arr.includes(<span class="predefined-constant">undefined</span>);  <span class="comment">// true</span>
</pre></td>
</tr></table>
</div></div>
<p><code>includes</code> also allows a second optional parameter <code>startAt</code> to specify the index at which to begin searching:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> arr = [<span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">b</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">c</span><span class="delimiter">'</span></span>, <span class="predefined-constant">NaN</span>];
arr.includes(<span class="string"><span class="delimiter">'</span><span class="content">c</span><span class="delimiter">'</span></span>, <span class="integer">2</span>);   <span class="comment">// true</span>
arr.includes(<span class="string"><span class="delimiter">'</span><span class="content">c</span><span class="delimiter">'</span></span>, -<span class="integer">2</span>);  <span class="comment">// true</span>
</pre></td>
</tr></table>
</div></div>
<p>Note that the second <code>startAt</code> parameter is only available for <code>Ember.Array</code> because <code>Ember.Enumerable</code> does not rely on index-ordered access.</p>

<p><code>Enumerable#without</code> and <code>MutableEnumerable#addObject</code> use now internally <code>includes</code> instead of <code>contains</code>. This leads to some minor breaking changes:</p>

<p>Before:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> arr = [<span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">b</span><span class="delimiter">'</span></span>];

arr.addObject(<span class="predefined-constant">NaN</span>);       <span class="comment">// ['a', 'b', NaN]</span>
arr.addObject(<span class="predefined-constant">NaN</span>);       <span class="comment">// ['a', 'b', NaN, NaN]</span>
arr.without(<span class="predefined-constant">NaN</span>);         <span class="comment">// ['a', 'b', NaN, NaN]</span>
</pre></td>
</tr></table>
</div></div>
<p>After:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre><span class="keyword">var</span> arr = [<span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">b</span><span class="delimiter">'</span></span>];

<span class="keyword">var</span> arr = [<span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">b</span><span class="delimiter">'</span></span>];

arr.addObject(<span class="predefined-constant">NaN</span>);       <span class="comment">// ['a', 'b', NaN]</span>
arr.addObject(<span class="predefined-constant">NaN</span>);       <span class="comment">// ['a', 'b', NaN]</span>
arr.without(<span class="predefined-constant">NaN</span>);         <span class="comment">// ['a', 'b']</span>
</pre></td>
</tr></table>
</div></div>
<p>Addon authors should use <a href="https://github.com/rwjblue/ember-runtime-enumerable-includes-polyfill">ember-runtime-enumerable-includes-polyfill</a>
to fix the deprecation in a backwards-compatible way.</p>

<p>Added in <a href="https://github.com/emberjs/ember.js/pull/13553">PR #13553</a>.</p>
<h3 class='anchorable-toc' id='toc_deprecations-added-in-2-11'>Deprecations Added in 2.11</h3><h4 class='anchorable-toc' id='toc_code-rendertoelement-code'><code>renderToElement</code></h4><h5 class='anchorable-toc' id='toc_until-2-12-0'>until: 2.12.0</h5><h5 class='anchorable-toc' id='toc_id-ember-views-render-to-element'>id: ember-views.render-to-element</h5>
<p>Using the <code>renderToElement</code> is deprecated in favor of <code>appendTo</code>.
Please refactor to use <code>appendTo</code>:</p>

<p>For example, if you had:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>component.renderToElement(<span class="string"><span class="delimiter">'</span><span class="content">div</span><span class="delimiter">'</span></span>);
</pre></td>
</tr></table>
</div></div>
<p>Would be refactored to:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
</pre></td>
  <td class="code"><pre>let element = document.createElement(<span class="string"><span class="delimiter">'</span><span class="content">div</span><span class="delimiter">'</span></span>);
component.appendTo(element);
</pre></td>
</tr></table>
</div></div>
<p>Note that both APIs are private, so no public API is being deprecated here.</p>
<h4 class='anchorable-toc' id='toc_code-render-code-helper'><code>{{render</code> helper</h4><h5 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h5><h5 class='anchorable-toc' id='toc_id-ember-template-compiler-deprecate-render'>id: ember-template-compiler.deprecate-render</h5>
<p>Using the <code>{{render</code> helper is deprecated in favor of using components.
Please refactor uses of this helper to components:</p>

<p>For example, if you had:</p>
<div class="highlight hbs "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>{{render 'my-sidebar'}}
</pre></td>
</tr></table>
</div></div><div class="highlight hbs "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
</pre></td>
  <td class="code"><pre>{{! app/templates/my-sidebar.hbs }}
&lt;p&gt;template stuff here&lt;/p&gt;
</pre></td>
</tr></table>
</div></div><div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="comment">// app/controllers/my-sidebar.js</span>
<span class="reserved">export</span> <span class="keyword">default</span> Ember.Controller.extend({
});
</pre></td>
</tr></table>
</div></div>
<p>You would refactor to a component like so:</p>
<div class="highlight hbs "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>{{my-sidebar}}
</pre></td>
</tr></table>
</div></div><div class="highlight hbs "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
</pre></td>
  <td class="code"><pre>{{! app/templates/components/my-sidebar.hbs }}
&lt;p&gt;template stuff here&lt;/p&gt;
</pre></td>
</tr></table>
</div></div><div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre><span class="comment">// app/components/my-sidebar.js</span>
<span class="reserved">export</span> <span class="keyword">default</span> Ember.Component.extend({
});
</pre></td>
</tr></table>
</div></div>
<p>Note that the render helper has several unique behaviors that may require further refactoring work during migration to a component.</p>

<ul>
<li>When using the render helper with no model argument, the controller instance is a singleton. For example the same controller instance is shared between <code>{{render &#39;post&#39;}}</code>, any other helper usage of <code>{{render &#39;post&#39;}}</code>, a route template named post, and dependency injections using <code>Ember.inject.service(&#39;post&#39;)</code>.</li>
<li>When sendAction is called in a rendered controller, or when <code>{{action</code> is used in a render helper template, the bubbling target for those actions is the router and current active route. With components, those same actions would target only the component instance without bubbling.</li>
</ul>
<h4 class='anchorable-toc' id='toc_rendering-into-a-render-helper-that-resolves-to-an-outlet'>Rendering into a {{render}} helper that resolves to an {{outlet}}.</h4><h5 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h5><h5 class='anchorable-toc' id='toc_id-ember-routing-top-level-render-helper'>id: ember-routing.top-level-render-helper</h5>
<p>Before named outlets were introduced to Ember the render helper was used to declare slots for <code>this.render</code> in routes. This usage is not common in modern, idiomatic applications and is deprecated. In general, the pattern of named outlets or named render helpers is discouraged. Instead use of <a href="https://github.com/ef4/ember-elsewhere">ember-elsewhere</a> or another DOM-redirection library should better serve these use cases.</p>

<p>For example this code uses the render helper as a target for a special sidebar present on the index route. The special sidebar is in a template named <code>index-sidebar</code>:</p>
<div class="highlight hbs "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>{{! app/templates/application.hbs }}
&lt;div class=&quot;sidebar&quot;&gt;{{render 'sidebar'}}&lt;/div&gt;
&lt;div class=&quot;main&quot;&gt;{{outlet}}&lt;/div&gt;
</pre></td>
</tr></table>
</div></div><div class="highlight hbs "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
</pre></td>
  <td class="code"><pre>{{! app/templates/index.hbs }}
Index Content
</pre></td>
</tr></table>
</div></div><div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
11
12
13
14
15
</pre></td>
  <td class="code"><pre><span class="comment">// app/routes/index.js</span>
App.IndexRoute = Ember.Route.extend({
  renderTemplate() {
    <span class="local-variable">this</span>._super(...<span class="local-variable">arguments</span>);
    <span class="local-variable">this</span>.render(<span class="string"><span class="delimiter">'</span><span class="content">index-sidebar</span><span class="delimiter">'</span></span>, { <span class="key">into</span>: <span class="string"><span class="delimiter">'</span><span class="content">sidebar</span><span class="delimiter">'</span></span> });
  },
  <span class="key">actions</span>: {
    willTransition() {
      <span class="local-variable">this</span>.disconnectOutlet({
        <span class="key">parentView</span>: <span class="string"><span class="delimiter">'</span><span class="content">application</span><span class="delimiter">'</span></span>,
        <span class="key">outlet</span>: <span class="string"><span class="delimiter">'</span><span class="content">sidebar</span><span class="delimiter">'</span></span>
      });
    }
  }
});
</pre></td>
</tr></table>
</div></div>
<p>It should be refactored to use <a href="https://github.com/ef4/ember-elsewhere">ember-elsewhere</a>. The sidebar content must be implemented as a component, in this case named <code>index-sidebar</code>. The logic previously used in the route file can be removed. The refactored example:</p>
<div class="highlight hbs "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>{{! app/templates/application.hbs }}
&lt;div class=&quot;sidebar&quot;&gt;{{from-elsewhere name='sidebar'}}&lt;/div&gt;
&lt;div class=&quot;main&quot;&gt;{{outlet}}&lt;/div&gt;
</pre></td>
</tr></table>
</div></div><div class="highlight hbs "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>{{! app/templates/index.hbs }}
{{to-elsewhere named='sidebar' send=(component 'index-sidebar')}}
Index Content
</pre></td>
</tr></table>
</div></div>
<p>For more informations of how to use <code>ember-elsewhere</code>, please visit the official
documentation <a href="https://github.com/ef4/ember-elsewhere#ember-elsewhere">here</a>.</p>
<h3 class='anchorable-toc' id='toc_deprecations-added-in-2-12'>Deprecations Added in 2.12</h3><h4 class='anchorable-toc' id='toc_code-ember-k-code'><code>Ember.K</code></h4><h5 class='anchorable-toc' id='toc_until-3-0-0'>until: 3.0.0</h5><h5 class='anchorable-toc' id='toc_id-ember-metal-ember-k'>id: ember-metal.ember-k</h5>
<p>Using <code>Ember.K</code> is deprecated in favor of defining a function inline. See <a href="https://github.com/emberjs/rfcs/blob/master/text/0178-deprecate-ember-k.md">RFC #178</a>.</p>

<p>You can use the addon <a href="https://github.com/abuiles/ember-watson#remove-usages-of-emberk">ember-watson</a> to automate the removal of <code>Ember.K</code> from your application.</p>

<p>Example object:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>Ember.Object.extend({
  <span class="key">someFun</span>: Ember.K
});
</pre></td>
</tr></table>
</div></div>
<p>Command:</p>
<div class="highlight sh "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
</pre></td>
  <td class="code"><pre>ember watson:remove-ember-k --empty
</pre></td>
</tr></table>
</div></div>
<p>The result will be:</p>
<div class="highlight js "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>Ember.Object.extend({
  someFun() {}
});
</pre></td>
</tr></table>
</div></div>
<p>If for some reason your app depends on the ability to chain <code>Ember.K</code> invocations, you can use the flag <code>--return-this</code>. It will replace <code>Ember.K</code> with a function that returns <code>this</code>.</p>
<h4 class='anchorable-toc' id='toc_migrating-from-_lookupfactory-to-factoryfor'>Migrating from _lookupFactory to factoryFor</h4><h5 class='anchorable-toc' id='toc_until-2-13-0'>until: 2.13.0</h5><h5 class='anchorable-toc' id='toc_id-container-lookupfactory'>id: container-lookupFactory</h5>
<p>The private API method <code>_lookupFactory</code> is deprecated and replaced by <code>factoryFor</code> in public API. This API will return the original base class registered into or resolved by the container and a <code>create</code> function to generate a dependency-injected instance.</p>

<p>Addon creators and maintainers can use <a href="https://github.com/rwjblue/ember-factory-for-polyfill">ember-factory-for-polyfill</a> for addons supporting versions 2.3+, or <a href="https://github.com/rwjblue/ember-getowner-polyfill">ember-getowner-polyfill</a> for 1.10+.</p>

<p>Before:</p>
<div class="highlight text "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre>export default Component.extend(
  init() {
    this._super(...arguments);
    let Factory = getOwner(this)._lookupFactory('logger:main');
    this.logger = Factory.create({ level: 'low' });
  }
});
</pre></td>
</tr></table>
</div></div>
<p>After:</p>
<div class="highlight text "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre>export default Component.extend(
  init() {
    this._super(...arguments);
    let factory = getOwner(this).factoryFor('logger:main');
    this.logger = factory.create({ level: 'low' });
  }
});
</pre></td>
</tr></table>
</div></div>
<p>Any methods or properties of the factory can be accessed through the <code>class</code> property when using <code>factoryFor</code>.</p>
<div class="highlight text "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
</pre></td>
  <td class="code"><pre>let factory = owner.factoryFor('widget:slow');
let klass = factory.class;
klass.hasSpeed('slow'); // true
</pre></td>
</tr></table>
</div></div><h4 class='anchorable-toc' id='toc_arguments-in-component-lifecycle-hooks'>Arguments in Component Lifecycle Hooks</h4><h5 class='anchorable-toc' id='toc_until-2-13-0'>until: 2.13.0</h5><h5 class='anchorable-toc' id='toc_id-ember-views-lifecycle-hook-arguments'>id: ember-views.lifecycle-hook-arguments</h5>
<p>Previously, it was possible for component lifecycle hooks <code>didInitAttrs</code>, <code>didReceiveAttrs</code>, and <code>didUpdateAttrs</code> to receive arguments. However, this functionality was part of private API. Using the arguments is harmful to component performance, so they will trigger a deprecation. Alternative approaches for all three hooks are below:</p>
<h5 class='anchorable-toc' id='toc_code-didinitattrs-code-arguments'><code>didInitAttrs</code> arguments</h5>
<p>Since this lifecycle hook is <a href="http://emberjs.com/deprecations/v2.x/#toc_ember-component-didinitattrs">already deprecated</a>, we suggest taking this chance to address two deprecations at the same time.</p>

<p>Imagine you have a component that stores a timestamp when it is initialized.</p>

<p>Before:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
</pre></td>
  <td class="code"><pre>Ember.Component.extend({
  didInitAttrs({ attrs }) {
    <span class="local-variable">this</span>.set(<span class="string"><span class="delimiter">'</span><span class="content">initialTimestamp</span><span class="delimiter">'</span></span>, attrs.timestamp);
  }
});
</pre></td>
</tr></table>
</div></div>
<p>After:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre>Ember.Component.extend({
  init() {
    <span class="local-variable">this</span>._super(...<span class="local-variable">arguments</span>);

    <span class="local-variable">this</span>.set(<span class="string"><span class="delimiter">'</span><span class="content">initialTimestamp</span><span class="delimiter">'</span></span>, <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">timestamp</span><span class="delimiter">'</span></span>));
  }
});
</pre></td>
</tr></table>
</div></div><h5 class='anchorable-toc' id='toc_code-didreceiveattrs-code-and-code-didupdateattrs-code-arguments'><code>didReceiveAttrs</code> and <code>didUpdateAttrs</code> arguments</h5>
<p>This example for <code>didReceiveAttrs</code> below also applies to <code>didUpdateAttrs</code>, a similar hook that only runs on re-renders. Let&#39;s say you want to animate a thermometer widget showing the change between today&#39;s high and low temperatures.</p>

<p>Before:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
</pre></td>
  <td class="code"><pre>Ember.Component.extend({
  didReceiveAttrs({ oldAttrs, newAttrs }) {
    <span class="keyword">if</span> (oldAttrs.temp !== newAttrs.temp) {
      <span class="local-variable">this</span>.thermometer.move({ <span class="key">from</span>: oldAttrs.temp, <span class="key">to</span>: newAttrs.temp });
    }
  }
});
</pre></td>
</tr></table>
</div></div>
<p>After:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td>
  <td class="code"><pre>Ember.Component.extend({
  didReceiveAttrs() {
    let highTemp = <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">_highTemp</span><span class="delimiter">'</span></span>);
    let lowTemp = <span class="local-variable">this</span>.get(<span class="string"><span class="delimiter">'</span><span class="content">_lowTemp</span><span class="delimiter">'</span></span>);

    <span class="keyword">if</span> (highTemp !== lowTemp) {
      <span class="local-variable">this</span>.thermometer.move({ <span class="key">from</span>: highTemp, <span class="key">to</span>: lowTemp });
    }
  }
});
</pre></td>
</tr></table>
</div></div>
<p>Additionally, <a href="https://github.com/workmanw/ember-diff-attrs">ember-diff-attrs</a> is an addon that spun out of the discussions on the RFC. It provides a dry way to track attribute changes for this lifecycle hook.</p>
<h3 class='anchorable-toc' id='toc_deprecations-added-in-2-13'>Deprecations Added in 2.13</h3><h4 class='anchorable-toc' id='toc_ember-router-router-renamed-to-ember-router-_routermicrolib'>Ember.Router.router renamed to Ember.Router._routerMicrolib</h4><h5 class='anchorable-toc' id='toc_until-2-16-0'>until: 2.16.0</h5><h5 class='anchorable-toc' id='toc_id-ember-router-router'>id: ember-router.router</h5>
<p>The private <code>router</code> property of the <code>Ember.Router</code> instance (commonly found as <code>this.router</code> in <code>Ember.Route</code> instances or via router:main in the container)
has been renamed to <code>_routerMicrolib</code> to identify it as <code>router.js</code>, the microlib used within <code>Ember.Router</code>.</p>

<p>Addon and application developers that are using the internal <code>router</code> property of <code>Ember.Router</code> should replace those usages with <code>Ember.Router._routerMicrolib</code>.</p>

<p>This example demonstrates a common use case for <code>.router</code>.</p>

<p>Before:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td>
  <td class="code"><pre><span class="reserved">export</span> <span class="keyword">default</span> Ember.Service.extend({
  getRouteNameFromUrl (url) {
    const router = getContainer(<span class="local-variable">this</span>).lookup(<span class="string"><span class="delimiter">'</span><span class="content">router:main</span><span class="delimiter">'</span></span>);
    const routes = router.router.recognizer.recognize(url);

    <span class="keyword">if</span> (routes &amp;&amp; routes.length) {
      <span class="keyword">return</span> routes[routes.length-<span class="integer">1</span>].handler;
    }
  }
});
</pre></td>
</tr></table>
</div></div>
<p>After:</p>
<div class="highlight javascript "><div class="ribbon"></div><div class="scroller"><table class="CodeRay"><tr>
  <td class="line-numbers"><pre>1
2
3
4
5
6
7
8
9
<strong>10</strong>
</pre></td>
  <td class="code"><pre><span class="reserved">export</span> <span class="keyword">default</span> Ember.Service.extend({
  getRouteNameFromUrl (url) {
    const router = getContainer(<span class="local-variable">this</span>).lookup(<span class="string"><span class="delimiter">'</span><span class="content">router:main</span><span class="delimiter">'</span></span>);
    const routes = router._routerMicrolib.recognizer.recognize(url);

    <span class="keyword">if</span> (routes &amp;&amp; routes.length) {
      <span class="keyword">return</span> routes[routes.length-<span class="integer">1</span>].handler;
    }
  }
});
</pre></td>
</tr></table>
</div></div>

      </div>
    </div>

    <div class="footer">
  <div class="container">
    <div class="footer-info">
      Copyright 2017
      <a href="http://tilde.io">Tilde Inc.</a>
      <br>
      <a href="http://emberjs.com/team">Team</a> |
      <a href="http://emberjs.com/sponsors">Sponsors</a>
      <br>
      <a href="http://emberjs.com/security">Security</a> |
      <a href="http://emberjs.com/legal">Legal</a> |
      <a href="http://emberjs.com/logos">Logos</a>
      <br>
      <a href="http://emberjs.com/guidelines">Community Guidelines</a>
    </div>

    <div class="footer-statement">
      Ember.js is free, open source and always will be.
    </div>

    <div class="footer-social">
      <a href="http://twitter.com/emberjs" title="Twitter">
        <i class="icon-twitter"></i>
      </a>
      <a href="https://github.com/emberjs/ember.js" title="GitHub">
        <i class="icon-github"></i>
      </a>
      <a href="https://plus.google.com/communities/106387049790387471205" title="Google+">
        <i class="icon-gplus"></i>
      </a>
    </div>
  </div>
</div>


        <script type="text/javascript" src="/javascripts/deprecations-de96d295.js"></script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      var pluginUrl = '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-27675533-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
